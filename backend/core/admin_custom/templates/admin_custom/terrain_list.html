<!-- admin_custom/templates/admin_custom/terrain_list.html -->
{% extends 'admin_custom/base.html' %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>Gestion des Terrains</h2>
  <div>
    <a href="?statut=attente" class="btn btn-warning btn-sm">En attente</a>
    <a href="?statut=valide" class="btn btn-success btn-sm">Validés</a>
    <a href="." class="btn btn-outline-secondary btn-sm">Tous</a>
  </div>
</div>

{% if terrains %}
  <div class="table-responsive">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Nom</th>
          <th>Propriétaire</th>
          <th>Adresse</th>
          <th>Statut</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for t in terrains %}
          <tr>
            <td>{{ t.nom }}</td>
            <td>{{ t.proprietaire.get_full_name }} ({{ t.proprietaire.telephone }})</td>
            <td>{{ t.adresse }}</td>
            <td>
              {% if t.valide %}
                <span class="badge bg-success">Validé</span>
              {% else %}
                <span class="badge bg-warning">En attente</span>
              {% endif %}
            </td>
            <td>
              <a href="{% url 'admin_custom:terrain_validate' t.id %}" class="btn btn-sm btn-primary">Voir/Décider</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="alert alert-info">Aucun terrain à afficher.</div>
{% endif %}
{% endblock %}