<!-- owner/templates/owner/creneau_list.html -->
{% extends 'owner/base.html' %}

{% block title %}Créneaux de {{ terrain.nom }}{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
  <h2>Créneaux – {{ terrain.nom }}</h2>
  <a href="{% url 'owner:creneau_add' terrain.id %}" class="btn btn-success">Ajouter un créneau</a>
</div>

{% if creneaux %}
  <div class="table-responsive">
    <table class="table table-hover">
      <thead class="table-light">
        <tr>
          <th>Date</th>
          <th>Heure</th>
          <th>Tarif</th>
          <th>Disponible</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for c in creneaux %}
          <tr>
            <td>{{ c.date }}</td>
            <td>{{ c.heure_debut }} – {{ c.heure_fin }}</td>
            <td>{{ c.tarif }} MRU</td>
            <td>
              {% if c.disponible %}
                <span class="badge bg-success">Disponible</span>
              {% else %}
                <span class="badge bg-danger">Réservé</span>
              {% endif %}
            </td>
            <td>
              <a href="{% url 'owner:creneau_edit' terrain.id c.id %}" class="btn btn-sm btn-outline-primary">Modifier</a>
              <a href="{% url 'owner:creneau_duplicate' terrain.id c.id %}" class="btn btn-sm btn-outline-info">Dupliquer</a>
              <a href="{% url 'owner:creneau_delete' terrain.id c.id %}" class="btn btn-sm btn-outline-danger">Supprimer</a>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% else %}
  <div class="alert alert-info">Aucun créneau pour ce terrain. <a href="{% url 'owner:creneau_add' terrain.id %}">Ajoutez-en un</a> !</div>
{% endif %}

<a href="{% url 'owner:terrain_list' %}" class="btn btn-secondary mt-3">← Retour à mes terrains</a>
{% endblock %}